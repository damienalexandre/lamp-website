<!doctype html>

<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Coup de pied dans la LAMP</title>

    <meta name="description" content="Coup de pied dans la LAMP" />
    <meta name="author" content="Damien Alexandre, Benjamin Clay" />

    <link href="css/impressive-pony.css" rel="stylesheet" />
</head>

<body class="impress-not-supported">

    <div class="fallback-message">
        <p>Your browser <strong>doesn't support the features required</strong> by impress.js, so you are presented with a simplified version of this presentation.</p>
        <p>For the best experience please use the latest <strong>Chrome</strong>, <strong>Safari</strong> or <strong>Firefox</strong> browser.</p>
    </div>

<div id="impress" data-transition-duration="800">

    <div id="author-bros" class="step slide" data-x="-5000" data-y="-5000">
        <p class="title" style="margin-top: 80px;margin-bottom: 20px">Damien Alexandre</p>
        <img src="img/rainbros.gif" />
        <p class="title">Benjamin Clay</p>
    </div>

    <div id="author" class="step slide" data-x="-4000" data-y="-5000">
        <p style="margin: 50px 0" class="top title">Damien Alexandre</p>

        <img src="img/damienalexandre.png" alt="Damien ALEXANDRE twitter" style="float: left;" />
        <p style="text-align: left; padding-left: 140px;">

            <img src="img/twitter.png" style="vertical-align: bottom;"/> @damienalexandre
            <br />
            Consultant Web - PHP/Symfony/Js
            <br />
            Clever Age
        </p>

        <p style="margin: 80px 0 50px 0" class="title">Benjamin Clay</p>

        <img src="img/ternel.jpg" alt="Benjamin CLAY twitter" style="float: left; width: 128px" />
        <p style="text-align: left; padding-left: 140px;">

        <img src="img/twitter.png"  style="vertical-align: bottom;" /> @ternel<br />
            Éleveur de poneys - PHP/Symfony
            <br />
            Clever Age
        </p>
    </div>


    <div id="cleverage" class="step slide" data-x="-3000" data-y="-5000">
        <img src="img/cleverage-logo.png" alt="CleverAge Logo" />
        <img src="img/cleverage.png" alt="CleverAge" />
    </div>


    <div id="title" class="step" data-x="-3000" data-y="-4000" data-rotate-x="-40" data-rotate-y="10" >
        <span class="try">Coup de pied dans la</span>
        <h1>LAMP <img src="img/forumphp.png" alt="" /></h1>

        <small style="font-size: 0.4em">Cette conférence n'est pas une conférence sur le cyclimse...</small>
    </div>


    <div id="perf-def" class="step slide" data-x="-3000" data-y="-3000">
        <h2>Performances</h2>

        <p style="padding-bottom: 100px;">Un site excellent qui met trop de temps à s'afficher, c'est un site pénalisé.</p>

        <p>Attention, il n'existe pas *UNE* configuration de la stack LAMP parfaite</p>

        <img src="img/youdontsay.png" alt="YOU DON'T SAY?" style="position: absolute;bottom: 0px; right: 0px;" />
    </div>

    <!--
    <div id="perf-quote" class="step" data-x="1850" data-y="3000">
        <blockquote>

          <p>We should forget about small efficiencies, say about 97% of the time: <strong>premature optimization is the root of all evil</strong></p>
          <small>Donald Knuth</small>

        </blockquote>
    </div>
    -->

    <div id="pic-1" class="step" data-x="-2000" data-y="-3000">
        <img src="img/tweet1.png" alt="Notch" style="width: 100%" />
    </div>


    <div id="pic-2" class="step" data-x="-1000" data-y="-3000">
        <img src="img/tweet2.png" alt="Notch" style="width: 100%" />
    </div>


    <div id="title-stack-lamp" class="step" data-x="-1000" data-y="-2000" data-rotate-x="-40" data-rotate-y="10" >
        <h1 style="text-align: center">La stack LAMP</h1>
    </div>


    <div id="stack-lamp" class="step slide" data-x="0" data-y="-2000">

        <h2>LAMP dans le monde</h2>

        <ul style="font-size: 1.2em;line-height: 1.4em;">
            <li><span><strong>L</strong>inux</span> : 85% des serveurs web</li>
            <li><span><strong>A</strong>pache</span> : 65% des serveurs web</li>
            <li><span><strong>M</strong>ySQL</span> : 45% des serveurs web</li>
            <li><span><strong>P</strong>HP</span> : 77% des serveurs web</li>
        </ul>

        <p class="footnotes">
            <a href="http://news.netcraft.com/archives/2012/05/02/may-2012-web-server-survey.html">http://news.netcraft.com/archives/2012/05/02/may-2012-web-server-survey.html</a><br />
            <a href="http://www.readwriteweb.com/hack/2011/10/mysql-leads-open-source-market.php">http://www.readwriteweb.com/hack/2011/10/mysql-leads-open-source-market.php</a><br />
            <a href="http://w3techs.com/technologies/history_overview/programming_language">http://w3techs.com/technologies/history_overview/programming_language</a>
        </p>
    </div>

    <div id="server" class="step slide" data-x="0" data-y="-1000">

        <h2>Serveur de test</h2>

        <p>Serveur basique (kimsufi OVH), 50€ / mois</p>
        <ul style="font-size: 1.2em;line-height: 1.4em;">
            <li>Intel i5 CPU 760 @ <strong>4 x 2.80GHz</strong></li>
            <li><strong>16 Go</strong> de mémoire DDR3</li>
            <li>Disque 1To </li>
            <li>Connexion 100 Mbps</li>
        </ul>

        <img src="img/notbad.jpg" alt="Not bad!" style="position: absolute;bottom: 0px; right: 0px;" />

    </div>

    <div id="test-step" class="step slide" data-x="0" data-y="0">
        <h2>Procédure de test</h2>

        <ul style="font-size: 1em;line-height: 1.4em;">
            <li>Debian <strong>Squeeze</strong> frais <img src="img/squeeze.jpg" alt="" /></li>
            <li><strong>Drupal</strong> - 10 000 contenus générés, sans cache, ni cron</li>
            <li>Surf sur le site</li>
            <li>Extraction d'urls depuis les <strong>logs</strong> apaches</li>
            <li><strong>Siege</strong> depuis un autre serveur</li>
            <li>Stress test de 50 à 350 concurrents</li>
        </ul>
    </div>

    <div id="test-screen" class="step" data-x="0" data-y="1000">
        <iframe src="site-bench/ambassadeur.html" width="1200" height="750" scrolling="no"></iframe>
    </div>


    <div id="bench-1-install" class="step slide" data-x="0" data-y="2000" >
        <h2>Installation basique</h2>

        <ul style="font-size: 1.2em;line-height: 1.4em;">
            <li><code>apt-get install <strong>apache2 mysql-server php5</strong> php-pear php5-mysql php5-gd</code></li>
            <li><code>a2enmod rewrite</code></li>
        </ul>
    </div>

    <div id="bench-1-versions" class="step slide" data-x="0" data-y="3000" >
        <h2>Versions</h2>

        <ul style="font-size: 1.4em;line-height: 2em;">
            <li>PHP : <strong>5.3.3</strong>-7+squeeze9</li>
            <li>MySQL : <strong>5.1</strong>.61-0+squeeze1 sans mysqlnd</li>
            <li>Apache : <strong>2.2</strong>.16-6+squeeze7</li>
        </ul>
    </div>

    <div id="bench-1-results" class="step slide" data-x="0" data-y="4000">
        <h2>Bench de référence</h2>

        <ul style="font-size: 1.2em;line-height: 2em;">
            <li>Maximum = <strong>45 req/s</strong></li>
            <li>Temps de réponse = jusqu'à <strong>7s</strong></li>
        </ul>
        <img src="img/fuckin-kiddin.png" alt="Are you kiddin' me?" style="position: absolute; bottom: 0;"/>
    </div>

    <div id="htop" class="step" data-x="0" data-y="5000">
        <img src="img/htop.png" alt="htop" style="width: 100%" />
    </div>


    <div id="htop2" class="step" data-x="1000" data-y="5000">
        <div style="background: black url(img/htop.png) top right no-repeat; height: 600px; background-size: 150%">
        </div>
    </div>

    <div id="htop-details" class="step slide" data-x="1000" data-y="4000">
        <h2>Load Average</h2>

        <ul>
        <li>Doit être inférieur à votre nombre de CPU</li>
        <li>Avec 4 cores, un load au dessus de 3.5 est une "anomalie"</li>
        <li>ou pas.</li>
        </ul>

        <code><pre>1.03        0.22        0.11
1min         5min       15min</pre>
        </code>

        <p class="important">Monitorer ses serveurs !</p>
    </div>

    <div id="htop-monitorer" class="step slide" data-x="1000" data-y="3000">
        <h2>Comment monitorer ?</h2>

        <ul style="font-size: 1.2em;line-height: 2em;">
            <li>Monitoring applicatif : Pourquoi et comment ?</li>
            <li><strong>Salon Honorat à midi</strong></li>
            <li>Présenté par Kenny DITS</li>
        </ul>
    </div>

    <div id="title-php" class="step" data-x="1000" data-y="2000" data-rotate-x="-90">
        <img src="img/php.png" alt="PHP" />
    </div>

    <div id="requete-php" class="step" data-x="1500" data-y="1000">
        <img src="img/compil-php.png" alt="Compilation PHP" style="height: 100%; width: auto;" />
    </div>

    <div id="php-apc" class="step" data-x="1000" data-y="0">
        <img src="img/apc.jpg" alt="APC" />
    </div>

    <div id="requete-php-apc" class="step" data-x="1800" data-y="0">
        <img src="img/compil-php-apc.png" alt="Compilation PHP avec APC" style="height: 100%; width: auto;" />
    </div>

    <div id="php-apc-free-win" class="step slide" data-x="3000" data-y="0">
        <h2>APC : Cache d'OpCode</h2>

        <p>
            <code>apt-get install php5-apc</code>
            <br />
            On obtient 70 req/s et temps de réponse diminués<br />
            <br />
            <strong>FREE WIN</strong>
        </p>
        <img src="img/fuckyeah.png" alt="FUCK YEAH!" style="width: 40%; position: absolute; bottom: 0;left: 0;" />
    </div>

    <div id="apc-quote" class="step" data-x="4000" data-y="0">
        <blockquote>

          <p>If you care about performance and don’t use a bytecode cache then you don’t really care about performance. <strong>Please get one and start using it. </strong></p>
          <small>Stas Malyshev, PHP Core Contributor, Zend employee</small>

        </blockquote>
    </div>


    <div id="dotdeb-prez" class="step slide" data-x="5000" data-y="0">
        <h2>Dotdeb</h2>

        <p>♥ by Guillaume Plessis ♥</p>
        <ul style="font-size: 1.2em;line-height: 1.4em;">
            <li>PHP 5.4 et 5.3 + extensions</li>
            <li>MySQL 5.5 and 5.1</li>
            <li>Percona toolkit</li>
            <li>Nginx...</li>
        </ul>

        <p>Sur Debian 6.0 pour amd64 et i386.</p>
        <p class="footnotes">Protip® : Laissez la compilations à ceux dont c'est le métier.</p>
    </div>

    <div id="dotdeb-conf" class="step slide" data-x="6000" data-y="0">

        <h2>Installation</h2>
        <p>/etc/apt/sources.list</p>

        <code style="font-size: 0.65em"><pre>
deb http://packages.dotdeb.org squeeze all
deb-src http://packages.dotdeb.org squeeze all</pre></code>


<code style="font-size: 0.85em"><pre>wget http://www.dotdeb.org/dotdeb.gpg
cat dotdeb.gpg | sudo apt-key add -
apt-get update</pre>
        </code>
    </div>

    <div id="dotdeb-install" class="step slide" data-x="7000" data-y="0">
        <h2>Installation basique bis</h2>

        <ul style="font-size: 1.2em;line-height: 1.4em;">
            <li><code>apt-get install <strong>apache2 mysql-server php5</strong> php-pear php5-mysql php5-gd php5-apc</code></li>
            <li><code>a2enmod rewrite</code></li>
        </ul>
    </div>

    <div id="dotdeb-versions" class="step slide" data-x="8000" data-y="0">
        <h2>Versions</h2>

        <ul style="font-size: 1.2em;line-height: 1.4em;">
            <li>PHP : <strong>5.3.13</strong>-1+dotdeb.0</li>
            <li>MySQL : <strong>5.5</strong>.24 avec mysqlnd</li>
            <li>Apache : <strong>2.2</strong>.16 (identique)</li>
        </ul>

        <p style="padding-top:100px;">"fonctions avancés du driver MySQL natif pour PHP" à 16:30, Espace Adenauer par Serge Frezefond</p>
    </div>

    <div id="dotdeb-result" class="step slide" data-x="9000" data-y="0">
        <h2>Version dotdeb et APC</h2>
        <p>5 secondes de temps de réponse,<br/>et presque 100 req/s</p>
        <img src="img/chart-dotdeb-apc.png" style="margin-top:25px;" />
    </div>

    <div id="tuning" class="step" data-x="9000" data-y="1000">
        <img src="img/brace-config.jpg" style="width:100%" />
    </div>

    <div id="mysqltuner" class="step" data-x="8000" data-y="1000">
        <h2>MySQLTuner.pl</h2>

        <img src="img/mysqltuner.png" style="height:70%"  />
    </div>

    <div id="mysqltunerprimer" class="step" data-x="7000" data-y="1000">
        <h2>MySQL Tuning Primer</h2>

        <img src="img/tuning-primer.png" style="height:70%"  />
    </div>

    <div id="mysql-config" class="step slide" data-x="6000" data-y="1000">
        <h2>Configurons MySQL</h2>

        <ul style="font-size: 1.15em;line-height: 1.4em;">
            <li>innodb_thread_concurrency = 0</li>
            <li>innodb_buffer_pool_size = 1024M</li>
            <li>innodb_flush_method = O_DIRECT</li>
            <li>max_connections = 300</li>
            <li>query_cache_limit = 1M</li>
            <li>query_cache_size = 200M</li>
        </ul>
    </div>

    <div id="apache2-status" class="step slide" data-x="5000" data-y="1000">
        <h2>Apache2 mod_status</h2>

        <ul style="font-size: 1.1em;line-height: 1.2em;">
            <li>Le nombre de worker en cours / en attente</li>
            <li>Le status complet de chaque worker</li>
            <li>Le uptime du serveur</li>
            <li>Les moyennes de poids, req / secondes...</li>
            <li>L'utilisation du CPU</li>
            <li>Les requêtes et leurs hosts</li>
        </ul>
    </div>

    <div id="apache2-status-screen" class="step" data-x="4000" data-y="1000">
        <img src="img/apache-status.png" style="width:100%" />
    </div>

    <div id="install-status" class="step slide" data-x="3000" data-y="1000">
        <h2>Installer mod_status</h2>

<code>a2enmod mod_status</code>
        <code style="font-size:0.8em"><pre>
ExtendedStatus On

&lt;Location /server-status&gt;
    SetHandler server-status

    Order Deny,Allow
    Deny from all
    Allow from .pony.com
&lt;/Location&gt;</pre>
        </code>
    </div>

    <div id="config-a2-php-apc" class="step slide" data-x="2300" data-y="1000" data-scale="0.5">
        <h2 style="margin-bottom:50px">Tuner Apache</h2>
        <ul>
        <li>Désactiver les modules inutiles :
        <code>a2dismod authn_file authz_default authz_groupfile authz_user autoindex deflate negotiation reqtimeout setenvif env cgi</code>
</li>
        <li>MaxClient de 150 à 250</li>
        <li><code>apc.stat = 0</code></li>
        </ul>
    </div>

    <div id="result-apache2-php-apc" class="step" data-x="2000" data-y="2000">
        <h2>Moins de 5 secondes</h2>

        <img src="img/best-of-classic-lamp.png" style="width:100%" />
    </div>

    <div id="coup-de-pied" class="step" data-x="3000" data-y="2000" data-rotate-y="0" data-rotate-x="90">
        <img src="img/lamp.jpg" />
    </div>

    <div id="coup-de-pied-2" class="step" data-x="4000" data-y="2000">
        <h2>Apache => Ngnix</h2>
        <h2>MySQL => MariaDB</h2>
        <h2>Linux => Windows</h2>
        <h2>PHP   => PERL</h2>
    </div>

    <div id="coup-de-pied-troll" class="step" data-x="5200" data-y="2000">
        <img src="img/norman-faux.gif" width="600px" />
    </div>

    <div id="modif-stack" class="step" data-x="6000" data-y="2000">
        <p>Modifier notre stack logiciel sans peine et sans avoir à toucher à notre code PHP.</p>
        <p>Nous ne sommes pas des sysadmins. C'est un métier.</p>
    </div>

    <div id="maria" class="step" data-x="7000" data-y="2000">
        <img src="img/maria.png" alt="MariaDB" />
    </div>

    <div id="maria-desc-1" class="step slide" data-x="8000" data-y="2000">
        <h2>Qu'est ce que MariaDB</h2>

        <ul style="font-size: 1.1em;line-height: 1.2em;">
            <li>2008 : Sun achète MySQL (bouh)</li>
            <li>avril 2009 : Oracle achète Sun</li>
            <li>mai 2009 : Monty Widenius, créateur de MySQL, démissionne et crée <strong>The Monty Program</strong>. Sa nouvelle société crée un fork nommé MariaDB</li>
        </ul>
    </div>

    <div id="maria-desc-2" class="step slide" data-x="9000" data-y="2000">
        <h2>I ♥ MariaDB</h2>
        <ul style="font-size: 1.1em;line-height: 1.2em;">
            <li>Vraiment opensource (MySQL contient des features réservés aux entreprises)</li>
            <li>Est et restera sous licence GPL (v2)</li>
            <li>100% compatible avec MySQL</li>
            <li>Créé par les créateurs de MySQL</li>
            <li>Haut lieu de l'innovation technologique du SGBD :)</li>
        </ul>
    </div>

    <div id="maria-desc-3" class="step slide" data-x="9000" data-y="3000">
        <h2>They ♥ MariaDB</h2>
        <ul style="font-size: 1.1em;line-height: 1.2em;">
            <li>Déjà utilisé chez PAP, Paybox, OLX, Jelastic...</li>
            <li>Support disponible</li>
                <ul>
                    <li>SkySQL</li>
                    <li>Percona Inc</li>
                    <li>Monty Program</li>
                    <li>FromDual</li>
                </ul>
            </li>
        </ul>
    </div>

    <div id="maria-desc-4" class="step slide" data-x="8000" data-y="3000">
        <h2>MariaDB 5.5</h2>

        <ul style="font-size: 1.3em;line-height: 1.3em;">
            <li>Threadpool</li>
            <li>Group commit dans le log binaire</li>
            <li>Lib cliente non bloquante</li>
            <li>SphinxSE pour le full-text</li>
            <li>GIS</li>
        </ul>
    </div>

    <div id="maria-desc-5" class="step slide" data-x="7000" data-y="3000">
        <h2>Facile à installer</h2>

        <p>Drop-in replacement du binaire MySQL.</p>
        <code  style="font-size: 0.4em;line-height: 1em;"><pre>
# MariaDB repository list
# http://downloads.mariadb.org/mariadb/repositories/
deb http://mirror.switch.ch/mirror/mariadb/repo/5.5/debian squeeze main
deb-src http://mirror.switch.ch/mirror/mariadb/repo/5.5/debian squeeze main</pre></code>

        <code>
            apt-get update<br />apt-get install mariadb-server-5.5
        </code>

        <p>Ne pas oublier d'exclure dotdeb du sources.list</p>
    </div>

    <div id="maria-threadpool" class="step slide" data-x="6000" data-y="3000">
        <h2>Le Threadpool</h2>

        <p>Proposé chez Oracle sous forme de plugin dans la version commerciale de MySQL.</p>

        <code  style="font-size: 0.9em;">
            thread_handling=pool-of-threads
        </code>
        <p class="footnotes">La licence de MySQL Entreprise n'autorise pas la diffusion de benchmark comparatif sans l'accord écrit d'Oracle.</p>
    </div>

    <div id="maria-threadpool-2" class="step slide" data-x="5000" data-y="3000">
        <h2>Sysbencher Threadpool</h2>

        <p>Utilisation de sysbench :</p>
        <code style="font-size: 0.8em;line-height: 1em;">
            sysbench --test=oltp --oltp-table-size=<strong>1G</strong> --db-driver=mysql --mysql-host=localhost
            --mysql-user=root --mysql-password=poney --init-rng=1 <strong>--num-threads=256</strong> --max-requests=0
            --oltp-read-only --oltp-dist-type=uniform --max-time=180 run
        </code>
    </div>

    <div id="maria-threadpool-screen" class="step" data-x="4000" data-y="3000">
        <h2>Le Threadpool ça rox</h2>

        <img src="img/threadpool.png" alt="Threadpool" style="width:100%" />
    </div>

    <div id="nginx" class="step slide" data-x="3000" data-y="3000" data-z="500" data-rotate-y="90">
        <img src="img/nginx-logo.png" alt="NGINX" style="margin-top:150px; width: 100%" />

        <p class="footnotes">Ou captain NGINX pour les intimes.</p>
    </div>


    <div id="nginx-prez" class="step slide" data-x="3000" data-y="4000">
        <h2>The Nginx story</h2>

        <ul style="font-size: 1.15em;line-height: 1.3em;">
            <li>Igor Sysoev en 2002</li>
            <li>Documentation en anglais en 2006</li>
            <li>Explosion en 2008</li>
            <li>Levée de fond de 3M$ en 2011</li>
            <li>Nginx HQ @ SF en 2011</li>

        </ul>
        <img src="img/absolut_nginx.jpg" alt="Absolut Nginx" style="position: absolute; top:350px; right: 50px;" />
    </div>

    <div id="nginx-details" class="step slide" data-x="3000" data-y="5000">
        <h2>Nginx</h2>

        <ul style="font-size: 1.3em;line-height: 1.3em;">
            <li>Développé pour le fort trafic</li>
            <li>C10K Problem</li>
            <li>Noyau minimal, beaucoup de modules</li>
            <li>Traitements asynchrones</li>
            <li>Peu de ressources utilisées !</li>
        </ul>
    </div>

    <div id="php-fpm" class="step slide" data-x="4000" data-y="5000">
        <h2>Avec PHP-FPM</h2>

        <ul style="font-size: 1.3em;line-height: 1.3em;">
            <li>FastCGI Process Manager</li>
            <li>Implémentation du FastCGI pour PHP</li>
            <li>Plusieurs pools de PHP avec configuration</li>
            <li>SlowLog</li>
        </ul>
    </div>

    <div id="install-nginx-php-fpm" class="step slide" data-x="5000" data-y="5000">
        <h2>Nginx et PHP-FPM</h2>

        <code style="font-size: 0.9em;">apt-get install nginx php5-fpm</code>

        <p>Copier/Coller de la configuration "Drupal" depuis le wiki nginx.</p>

        <img src="img/thatsall.gif" style="position: absolute; bottom: 20px;left: 50%; margin-left: -174px;" />
    </div>

    <div id="chart-nginx-php-fpm" class="step" data-x="6000" data-y="5000">
        <h2>Nginx et PHP-FPM</h2>
        <img src="img/chart-nginx-mariadb.png" style="width: 100%" />
    </div>

    <div id="chart-versus" class="step" data-x="7000" data-y="5000">
        <h2>Nginx et PHP-FPM</h2>
        <img src="img/chart_apachemysql_vs_ngnixmaria.png" style="width: 100%" />
    </div>

    <div id="cherokee" class="step slide" data-x="8000" data-y="5000">
        <img src="img/cherokee-logo.png" />
        <ul style="font-size: 1.1em;line-height: 1.1em;">
            <li>FastCGI / SSL / VirtualHost / ...</li>
            <li>Configuration simple
            <ul>
                <li>Symfony</li>
                <li>RoR</li>
                <li>Django</li>
                <li>Liferay</li>
                <li>Glassfish</li>
                <li>SugarCRM</li>
                <li>phpBB...</li>
            </ul>
            </li>
        </ul>
        <p></p>
    </div>

    <div id="cherokee-1" class="step" data-x="9000" data-y="5000">
        <img src="img/cherokee-1.png" style="width: 100%"  />
    </div>

    <div id="cherokee-2" class="step" data-x="9000" data-y="6000">
        <img src="img/cherokee-2.png" style="width: 100%"  />
    </div>

    <div id="cherokee-3" class="step" data-x="8000" data-y="6000">
        <img src="img/cherokee-3.png"  style="width: 100%"  />
    </div>

    <div id="percona" class="step slide" data-x="7000" data-y="6000">
        <img src="img/percona.jpg" style="width: 400px" />
        <ul style="font-size: 1.3em;line-height: 1.3em;">
            <li>Fondé par Peter Zaitsev (expert badass)</li>
            <li>Build de MySQL patché</li>
            <li>XtraDB = InnoDb en mieux (utilisé dans MariaDB)</li>
        </ul>
    </div>

    <div id="drizzle" class="step slide" data-x="6000" data-y="6000">
        <img src="img/drizzle.png" style="width: 500px;" />
        <ul style="font-size: 1.3em;line-height: 1.3em;">
            <li>Fondé par Brian Aker</li>
            <li>Forké de MySQL 6, allégé, passé en C++</li>
            <li>Se concentre sur la scalabilité</li>
        </ul>
    </div>

    <div id="php-5-4" class="step slide" data-x="5000" data-y="6000">
        <h2>Et PHP 5.4 ?</h2>
        <p>Suivre les mises à jours de PHP <strong>c'est aussi bénéficier</strong> d'améliorations de performance.</p>

        <h2>PHP 5.3 a trois ans.</h2>
    </div>

    <div id="php-5-h1n1" class="step" data-x="4000" data-y="6000">
        <img src="img/h1n1.jpeg"  style="width: 100%" />
    </div>

    <div id="php-5-mj" class="step" data-x="3000" data-y="6000">
        <img src="img/mj.gif"  style="width: 90%; margin-bottom: 30px" />
        <p class="footnotes">IMPORTANT : Il existe un site dédié aux gifs de MJ.</p>
    </div>

    <div id="install-php-5-4" class="step slide" data-x="3000" data-y="7000">
        <h2>Installer PHP5.4</h2>
        <p>Merci Dotdeb !</p>
        <code style="font-size: 0.5em">
            deb http://packages.dotdeb.org squeeze-php54 all<br />
            deb-src http://packages.dotdeb.org squeeze-php54 all
        </code>

        <p>Très peu d'incompatibilités<br />mais APC en beta.</p>
    </div>

    <div id="chart-php-5-4" class="step" data-x="4000" data-y="7000">
        <h2>PHP 5.4 == FREE WIN</h2>
        <img src="img/chart-php54.png" style="width: 100%"/>
    </div>

    <div id="apache-2-4" class="step slide" data-x="5000" data-y="7000">
        <h2>Apache 2.4</h2>
        <ul style="font-size: 1.2em;line-height: 1.2em;">
            <li>7 ans d'attente !</li>
            <li>Consommation mémoire réduite</li>
            <li>Amélioration générale des performances</li>
            <li>Le "MPM Event" stable</li>
            <li>Lectures/écritures asynchrones des MPM</li>
        </ul>
    </div>

    <div id="apache-2-4-compil" class="step slide" data-x="6000" data-y="7000">
        <h2 style="line-height: 1.5em">Pas d'installation simple, on compile !</h2>
        <img src="img/snif.png" />
    </div>

    <div id="apache-2-4-bench" class="step slide" data-x="7000" data-y="7000">
        <h2>Pinaaaaageeeeeeeee</h2>
        <p>+ de 100 req/s, 3 secondes</p>

        <img src="img/apache2.2vsapache2.4.png" style="width: 90%" />

        <p class="footnotes">©HeroCorp</p>
    </div>

    <div id="spdy-1" class="step" data-x="8000" data-y="7000">
        <h2>Et si on virait HTTP ?</h2>
        <img src="img/speedy.jpg" style="width: 100%" />
    </div>

    <div id="spdy-2" class="step slide" data-x="9000" data-y="7000">
        <h2>Spdy</h2>
        <ul>
            <li>SSL</li>
            <li>gzip/DEFLATE by design (pour les headers aussi)</li>
            <li>une seule connexion pour toutes les ressources d'une page web</li>
            <li>Candidat pour HTTP 2.0</li>
        </ul>
        <p style="margin-top: 100px">Utilisé par Google, Wikipedia, Twitter, HumbleBundle...</p>
    </div>

    <div id="spdy-install" class="step slide" data-x="9000" data-y="8000">
        <h2>Installation simple !</h2>
        <ul>
            <li><code>dpkg -i mod-spdy-*.deb</code></li>
            <li>Génération d'un certificat SSL</li>
        </ul>

        <img src="img/rudy.gif" style="position: absolute; left:250px; bottom: 20px;" />
    </div>

    <div id="spdy-compare" class="step" data-x="8000" data-y="8000">
        <img src="img/speedy-comp.png" style="width: 100%"/>
    </div>

    <div id="conclusion" class="step" data-x="7000" data-y="8000">

        <h2>Le changement, c'est maintenant.</h2>

        <p class="footnotes">J'ai déjà entendu ça quelque part...</p>
    </div>

    <div id="merci" class="step slide" data-x="6000" data-y="8000">
        <h2 style="font-size: 3em">Merci !</h2>

        <p style="margin-top: 180px; ">Code source, outils de bench et slides sur :<br/>
        <a href="https://github.com/damienalexandre/lamp-website">github.com/<br/>damienalexandre/lamp-website</a></p>
    </div>

    <div id="question" class="step slide" data-x="5000" data-y="8000">
        <h2>Questions ?</h2>
        <img src="img/question.png" />
        <p>De gros chocobisoux à mateo pour l'aide, et pour le serveur de Siege.</p>
        <p>Perrine pour sa patience.</p>
        <p>Impress.JS pour nos slides.</p>
        <p>Mr. Gif animé pour son invention.</p>
    </div>

</div>

<script src="js/impress.js"></script>
<script>impress().init();</script>

</body>
</html>
